<html>
  <head>
    <title>Markeaze js chat client - Preview mode</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="https://assets-shared.markeaze.com/public/favicon/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="120x120" href="https://assets-shared.markeaze.com/public/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://assets-shared.markeaze.com/public/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://assets-shared.markeaze.com/public/favicon/favicon-16x16.png">
    <link rel="mask-icon" href="https://assets-shared.markeaze.com/public/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <style type="text/css">
body {
  padding: 20px;
  margin: 0;
  font-size: 14px;
  font-family: Arial;
}
a {
  color: red;
  text-decoration: underline;
  cursor: pointer;
}
    </style>
  </head>
  <body>
    <h1>Markeaze Js Chat Client - Preview Mode</h1>
    <p>
      Js Trakcer v<b id="version">###</b>
    </p>
    <p>
      Js Chat Client v<b id="chatVersion">###</b>
    </p>
    <a href="/">Go to common mode</a>
    <hr />
    <script type="text/javascript">
let app = {};
window.mkz = function (method, pluginName, plugin) {
  app = plugin
  render({collapsed: false, isMobile: false});
}
let options = {
  history: [
    {
      muid: '1',
      text: 'Auto message with sample link https://markeaze.com/help and email mail@example.net',
      agent_id: 1,
      msg_type: 'message:auto',
      sent_at: '2019-12-19T10:48:03.314923Z',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: null,
      attachments: []
    },
    {
      muid: '2',
      text: 'Enter personal information',
      custom_fields: {
        elements: [
          {
            field: 'first_name',
            required: false,
            display_name: 'First name',
            display_type: 'text'
          },
          {
            field: 'Price',
            required: false,
            display_name: 'price',
            display_type: 'numeric'
          },
          {
            field: 'age',
            required: false,
            display_name: 'Age',
            display_type: 'integer'
          },
          {
            field: 'email',
            required: true,
            display_name: 'E-mail',
            display_type: 'email'
          },
          {
            field: 'date_of_birth',
            required: true,
            display_name: 'Date of birth',
            display_type: 'date'
          },
          {
            field: 'subscription',
            required: true,
            display_name: 'Subscription',
            display_type: 'boolean'
          },
          {
            field: 'gender',
            required: true,
            display_name: 'Gender',
            display_type: 'select',
            predefined_values: {
              male: 'Male',
              female: 'Female'
            }
          },
          {
            display_name: 'I agree to have my personal data for chats support.',
            display_type: 'hint'
          },
          {
            display_name: 'Submit',
            display_type: 'button'
          }
        ],
        follow_up_text: 'Thanks!',
        title: null
      },
      agent_id: 1,
      msg_type: 'survey:show',
      sent_at: '2020-02-20T11:12:36.833000Z',
      sender_type: 'agent',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: 'tester'
    },
    {
      muid: '3',
      text: 'Question',
      agent_id: 1,
      msg_type: 'message:new',
      sent_at: '2019-12-19T10:48:03.314923Z',
      sender_avatar_url: null,
      sender_name: null,
      attachments: []
    },
    {
      muid: '4',
      text: 'Answer',
      agent_id: null,
      msg_type: 'message:new',
      sent_at: '2019-12-19T10:50:09.107155Z',
      sender_type: 'client',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: 'Tester',
      attachments: []
    },
    {
      muid: '5',
      text: null,
      agent_id: 1,
      msg_type: 'message:new',
      sent_at: '2019-12-19T10:51:01.110155Z',
      sender_type: 'agent',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: 'Tester',
      attachments: [
        {
          type: 'product',
          variant_id: 1,
          name: 'Piderson Bros. Typewriter vintage Fine condition',
          url: '#',
          price: 36.99,
          display_price: 'US $36.99',
          available: true,
          main_image_url: 'https://themes.markeaze.com/default/livechat/product.png'
        },
        {
          type: 'product',
          variant_id: 1,
          name: 'Piderson Bros. Typewriter vintage Fine condition',
          url: '#',
          price: 36.99,
          display_price: 'US $36.99',
          available: true,
          main_image_url: 'https://themes.markeaze.com/default/livechat/product.png'
        }
      ]
    },
    {
      muid: '6',
      text: 'Markdown:\ntext **bold** *italic* `code` [link](http://example.net)',
      agent_id: 1,
      msg_type: 'message:auto',
      sent_at: '2019-12-19T10:48:03.314923Z',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: null,
      attachments: []
    },
    {
      muid: '7',
      text: 'LoooooooongAnswerrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr',
      agent_id: null,
      msg_type: 'message:new',
      sent_at: '2019-12-19T10:52:09.107155Z',
      sender_type: 'client',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: 'Tester',
      attachments: []
    },
    {
      muid: '8',
      text: 'LoooooooongQuestionnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn',
      agent_id: 1,
      msg_type: 'message:new',
      sent_at: '2019-12-19T10:53:10.107155Z',
      sender_type: 'agent',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: 'Tester',
      attachments: []
    },
    {
      muid: '9',
      text: null,
      agent_id: 1,
      msg_type: 'message:new',
      sent_at: '2019-12-19T10:53:10.107155Z',
      sender_type: 'agent',
      sender_avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png',
      sender_name: 'Tester',
      attachments: [
        { type: 'file', url: 'https://attachments.markeaze.com/dev/2020/09/f1164146b9feb98a@dev/AhurOBuI/1.txt', name: 'Pricelist.pdf', size: 10334500 },
        { type: 'file', url: 'https://attachments.markeaze.com/dev/2020/09/f1164146b9feb98a@dev/RfK9AF46/2.txt', name: '2.txt' },
        { type: 'image', url: 'https://attachments.markeaze.com/dev/2020/09/f1164146b9feb98a@dev/tMxX1BAh/1.jpg' },
        { type: 'image', url: 'https://attachments.markeaze.com/dev/2020/09/f1164146b9feb98a@dev/KV5gS7BU/2.jpg' },
        { type: 'image', url: 'https://attachments.markeaze.com/dev/2020/09/f1164146b9feb98a@dev/KV5gS7BU/2.jpg' }
      ]
    }
  ],
  currentAgent: {
    id: 1,
    isOnline: false,
    name: 'Buffalo Bill',
    job_title: 'Manager',
    avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png'
  },
  agents: {
    1: {
      id: 1,
      isOnline: false,
      name: 'Buffalo Bill',
      job_title: 'Manager',
      avatar_url: 'https://themes.markeaze.com/default/livechat/avatar.png'
    },
    2: {
      id: 2,
      isOnline: false,
      name: 'Elon Musk',
      job_title: 'Manager',
      avatar_url: 'https://assets-shared.markeaze.com/public/avatars/elon_musk.jpg'
    }
  }
}
let settings = {
  appearance: {
    bar_type: 'bubble', // bar / bubble
    bar_position: 'r-b', // l-t / r-t / l-b / r-b // t / r / b / l
    bar_padding_x: 20,
    bar_padding_y: 20,
    /*
    bar_color: '#ffffff',
    bar_bg: '#FC6881',
    */
    bar_text_online: 'We’re here. Let’s chat!',
    bar_text_offline: 'Leave message',
    bar_bouncing: true,
    /*
    bar_icon_url: 'https://d2p70fm3k6a3cb.cloudfront.net/public/images/2019/12/25/some.svg',
    notice_icon_url: 'https://themes.markeaze.com/default/livechat/icons/halloween.png',
    notice_text: '',
    notice_color: '#fff',
    notice_bg: '#333',
    */

    title_text: 'Leave your message',
    /*
    title_color: '#ffffff',
    title_bg: '#FC6881',
    agent_msg_bg: '#F5F5F5',
    agent_msg_color: '#333333',
    client_msg_bg: '#FC6881',
    client_msg_color: '#ffffff',
    */
    welcome_message: 'Hello there! How can I help you today?',
    placeholder: 'Input any message here...',
    agent_avatar: true,
    agent_post: true,
    markeaze_link: true,
    client_sound_path: 'https://themes.markeaze.com/default/livechat/sounds/new_message',

    theme: 'markeaze'
  },
  behavior: {
    attachment_cta: {
      product: {
        label_text: 'add_to_cart',
        handler: '(function(offer, callback) { console.log("Add to cart and timeout", offer); setTimeout(callback, 500); })',
        callback_label_text: 'added_to_cart',
        callback: '(function(offer) { console.log("Callback after timeout", offer); })'
      }
    }
  }
}
const render = function() {
  app.destroy()
  app.preview('en', settings, options)
}
    </script>
    <script src="/mkz-chat-client.js" type="text/javascript"></script>
    <p>
      Chat toggle:
      <button onclick="options.collapsed = false; render();">Show</button>
      <button onclick="options.collapsed = true; render();">Hide</button>
    </p>
    <p>
      Agent online status:
      <button onclick="options.currentAgent.isOnline = true; render();">Online</button>
      <button onclick="options.currentAgent.isOnline = false; render();">Offline</button>
    </p>
    <p>
      Agent avatar:
      <button onclick="settings.appearance.agent_avatar = true; render();">Show avatar</button>
      <button onclick="settings.appearance.agent_avatar = false; render();">Hide avatar</button>
    </p>
    <p>
      Theme:
      <select onchange="settings.appearance.theme = this.value; render();">
        <option value="markeaze">markeaze</option>
        <option value="violet">violet</option>
        <option value="blue">blue</option>
        <option value="red">red</option>
        <option value="orange">orange</option>
        <option value="green">green</option>
        <option value="yellow">yellow</option>
        <option value="black">black</option>
      </select>
    </p>
  </body>
</html>
